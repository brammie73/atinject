<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
</head>
<body>

<script>

// randomUUID
function s4() {
  return Math.floor((1 + Math.random()) * 0x10000)
             .toString(16)
             .substring(1);
};

function randomUUID() {
  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
         s4() + '-' + s4() + s4() + s4();
};

// cast
function cast(rawObj, constructor)
{
    var obj = new constructor();
    for(var i in rawObj){
    	alert(rawObj[i]);
        obj[i] = rawObj[i];
    }
    return obj;
};

// dto

function DTO () {
};

DTO.prototype.getClass = function() {
    return this._class;
};

function BaseWebSocketRequest() {
};

BaseWebSocketRequest.prototype = new DTO();

BaseWebSocketRequest.prototype.getRequestId = function() {
    return this.requestId;
};

BaseWebSocketRequest.prototype.setRequestId = function(requestId) {
    this.requestId = requestId;
    return this;
};

function GetUserRequest() {
	this._class = "org.atinject.api.user.dto.GetUserRequest";
};

// class alias
var classAliases = new Array();
classAliases["org.atinject.api.user.dto.GetUserRequest"] = GetUserRequest;

// test
GetUserRequest.prototype = new BaseWebSocketRequest();

var getUserRequest = new GetUserRequest();
getUserRequest.setRequestId("abc");
var getUserRequestString = JSON.stringify(getUserRequest);
alert(getUserRequestString);


var getUserRequestRawObject = JSON.parse(getUserRequestString);
alert(getUserRequestRawObject.requestId);
var getUserRequestObject = cast(getUserRequestRawObject, classAliases[getUserRequestRawObject._class]);
alert(getUserRequestObject.getRequestId());

</script>

</body>
</html>